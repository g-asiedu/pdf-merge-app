<div class="pdf-merger-container">
  <h2>PDF Merger (via URL)</h2>

  <div class="controls">
    <button (click)="addPdfUrl()">+ Add PDF URL</button>
    <button (click)="clearAll()">Clear All</button>
  </div>

  <div *ngFor="let pdf of pdfUrls; let i = index" class="pdf-row">
    <input
      type="text"
      [(ngModel)]="pdf.url"
      placeholder="Enter or paste PDF URL"
      style="width: 400px"
    />
    <button (click)="removePdf(i)">Remove</button>
    <span
      *ngIf="pdf.status === 'pending'"
      style="color: gray"
    >
      {{ pdf.progress }}%
    </span>
    <span *ngIf="pdf.status === 'success'" style="color: green">
      success ({{ pdf.sizeMB }} MB)
    </span>
    <span *ngIf="pdf.status === 'error'" style="color: red">
      failed â€” {{ pdf.errorMessage }}
    </span>
  </div>

  <div class="merge-controls">
    <button (click)="mergePdfs()" [disabled]="pdfUrls.length < 2 || merging">
      {{ merging ? 'Merging...' : 'Merge PDFs' }}
    </button>
  </div>

  <!-- Merge progress -->
  <div *ngIf="merging" class="progress-container">
    <p>Merging... {{ mergeProgress }}%</p>
    <progress [value]="mergeProgress" max="100"></progress>
  </div>

  <!-- Result actions -->
  <div *ngIf="mergedPdf && !merging" class="result-actions">
    <h3>Merge Complete!</h3>
    <button (click)="viewMergedPdf()">View PDF</button>
    <button (click)="downloadMergedPdf()">Download PDF</button>
  </div>
</div>
